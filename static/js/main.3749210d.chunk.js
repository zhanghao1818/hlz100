(this.webpackJsonphlzh5=this.webpackJsonphlzh5||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},26:function(e,t,n){e.exports=n.p+"static/media/logo.08f5b4d0.png"},27:function(e,t,n){e.exports=n.p+"static/media/beijing.16268e06.png"},28:function(e,t,n){e.exports=n.p+"static/media/download_shale.b1d57687.png"},31:function(e,t,n){e.exports=n(49)},36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAYCAYAAACfpi8JAAAABHNCSVQICAgIfAhkiAAAA4hJREFUSInNl01oXFUYhp/v5E4zCQEp2MYfxD+oFkSRqlUETRS1iRuR5GYmaSYOqFkocWmQgphF0WVLuwgKcX4yf0l0UUyMCycIVgoGQRfVYKWrQKoghbaZpHfO52Iy02nNvTM1i/quzhme9533ztxz5xvhJlQoFNrErnep5RWQp4BO4G6UMoY1kFXU/iiGxUvrthiPx0vNZkszUC6dflpM+W1BIkBbU8nKFRXNC3zqDo78sKMis9nkQascAw429eb+OmOE9/qisTM3VWRqairc3trymcDQDgtcJ4XpKxvlN7f7yv5V5Itkcq/n8DXweEDmn4jOojLr4fwM4OA9imgfKn3AngDvT47HoddjsQu+RQqFQgdeaRnY5xNiVRjbe8c9k93d3d52wOTkZGh3R/sooscA45PzG074Cdd1L1VfqIGqKlzdKASUQFRiA9HYSb8SAKOjo1fdoeETohLzY4CH8Eq567Kri/x06n0R/djPqZAcGIyNVPdzqdSdZcd+gMojlSCdUactWX+V+UwyIeBbSFXGB4aGP4GtT2Q2M/WwiE4EXIG1Uv7wWulEd7lFV1B5F+gCuhQ5iVf6PZf7/MGaqeKxfqEiOpHLJffXilicNLAroMi30Wj8PMD8/PFWESkAHdtwncbKd/Pzx1sBotH4eVSLAbm7jJUUgJnJJXpADwTAgH5TXV3+e3cfcLs/K3dtMVtbFhtkH5jJJXqMWjMeDIKonKvZjH22EV/PKOaPhrw14wbU74jVZEVqN7Wq0Ua8WKndFyK2iZ8RNUaMHm0YjH2gLvj7xrF6+tqG+xvmGz1q+iMjCyDLDdCXqquO2y7Oga4GwGsVpuZ9uUH2cn9kZKFyaowOA5sB9IvZ7NR9AL29YxvW6HPA2jbcRRGJ9PaObQDMTU/fC7wQkLtp8A7D1vGNRGJnQY8EGIzRlo+qm0jkjXOb1uwT9B1gCVhC9ERLWfb3R4eXqpwn5Qn8H/OAHukbjP8KdU9WVZWZTPorRHt8faJDbnQkE1C4pnwmFRXUn1VZ6B88/KqIKPVtRUQJtbrASoA5lc8mx4rFouOHFItFJ59NjgmaDui5QqjVrZaA/z4G/IVoDpUvcbxfPC+sIbGPKeXXUBlgp2NAVf+Lwahet3xUvFGFTOIZhbdu2fB8o06dmmwvXQ4/T1kOqfAklb8TnVtJF0BWxeqyhUUJhYuu6643m/0P7Nt1m9qwOHcAAAAASUVORK5CYII="},42:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAYCAYAAACfpi8JAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAC/0lEQVRIS62XO2gUQRjHVzjwgYVFFKy0ERQs7ExAUGOlZbTw0dkIEeyCrZ2tLwSbHDN7u3s7m9hEziLCEU8lRQiCAY2iCDYhaYT4Cng5/9/ud5fZ2dm9Ve8PP3Zvvv83M7c7r3X+RkqpnVFdnFW+uKN8+Qp8BL+UJ7+rQH5SgfuCYuSpVqs7OC0WfLdAh1kHxzhUXvVabTj0xSSSf2iVFYPOJTniJH67mbgvv4BUZ3M1FcjjMM9ryYPiJ7jIzeSLHmvoy5qRPBBCT6zgOsxN5euxlPtgXNSTLayqQDzEddT3/SGC7rlslT15LFEb3JxdGIy7YVw2EnXaYSCvN5vNCqdkhH98DeOjbcnVeUdtcUpanU5nm/LchiWpR+S5V9ieEeIVcFv39+EJp6YVeu5Ni7kHxoxga6xp192PV3EfsSZ4jtnxWvcTyNk0y3SoTa4u0ZRfPYzAhmnUaAdB9SDb6fGfRhmtBTZvl3VM36u4Fr2mjXpdHuFq6bG6CxaTzixbnUbj3nb8XjPiBvHMiBcs5Yln2biOuxBXnKyUNoOOmIjNEI0Tu0fDk+Nsx58UE1aPBvWBnsacLagTeXKM63V4ilp9PeBhuxP67nmrJ4U7R6O9lQ2kocqoUtxXMACXzLgJOv4g7gWETl2weQxapV8NrrTGPE2X5xCIy9yP8q8mMfcdrPTU3hhleazQgI4rhvB71ogb8GAl0RRCYdH0tfHbUvY1CtxTXK0z7XkHUFY4fWnpYHuiMo9QoxV48lDki3Hc04LWpMWNFjmuLhYtglqOha3Z2FOZJZ4JQN9zBAb4JSMvDdqiNtmeFm967zNJW2xi07tRtOlRjDzwFr2S5dxNjwTDEBajl0aSjTV6FbiOKjW5l44BUVA7w2X9jgGLhccAGGi/easlDBw6bJln2ZRgOgFs+8dnkNlV/4F5OnZyc3bBROeID1pSF5oNexKPGPmPw/NI3FAZIfEo0Lf1KsgMyJmZR7toFcQSfhfx7ufEtxj+nKBY6Mlz9OnBaSXkOH8AiYzJ1vi1TzwAAAAASUVORK5CYII="},43:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(23),i=n.n(s),c=(n(36),n(1)),o=n.n(c),u=n(2),l=n(4),p=n(5),d=n(8),h=n(7),m=(n(38),n(29)),f=n(3),v=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,"1.0")}}]),n}(r.a.Component);function w(e,t){for(var n=t||window.location.href,a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),r=-1;(r=n.indexOf("?",r+1))>-1;){var s=n.substr(r+1).match(a);if(null!=s)return decodeURIComponent(s[2])}return null}var b=n(14);var g=n(24),y=n.n(g),x=0;function O(e){!function(e){var t=(new Date).valueOf();!e||t-x<3e3||(x=t,y()(e))}(e)}var E=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,[{key:"beforeSend",value:function(){}},{key:"complete",value:function(){}}]),e}();function A(e){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.code){e.next=4;break}return e.abrupt("return",t);case 4:if(9900!==t.code){e.next=8;break}throw new Error(t.resultMsg);case 8:throw t.resultMsg&&O(t.resultMsg),new Error(t.resultMsg);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.code){e.next=4;break}return e.abrupt("return",t);case 4:if(9999!==t.code){e.next=8;break}throw new Error(t.resultMsg);case 8:throw new Error(t.resultMsg);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return"string"===typeof e&&(e=e.indexOf("/")>-1||e.indexOf("%")>-1?encodeURIComponent(e):encodeURI(e)),e}function _(e){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(o.a.mark((function e(t){var n,a,r,s,i,c,u,l,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],t){a=Object(b.a)(Object.getOwnPropertyNames(t));try{for(a.s();!(r=a.n()).done;)if(s=r.value,(i=t[s])instanceof Array)n.push(s+"="+I(JSON.stringify(i)));else if(i instanceof Object){c=Object(b.a)(Object.getOwnPropertyNames(i));try{for(c.s();!(u=c.n()).done;)l=u.value,((p=i[l])||!1===p||0===p)&&"__ob__"!==l&&n.push(l+"="+I(i[l]))}catch(o){c.e(o)}finally{c.f()}}else null!==i&&void 0!==i&&"__ob__"!==s&&n.push(s+"="+I(i))}catch(o){a.e(o)}finally{a.f()}t.device||n.push("device=10"),n.push("channelId="+(w("c")||10))}return e.abrupt("return",n.join("&"));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){return function(t){if(e&&e.complete(),200===t.status)return t;throw t.status>0?(O("\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u72b6\u6001\uff01"),new Error("\u670d\u52a1\u5668\u54cd\u5e94\u5f02\u5e38\uff01")):(O("\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u72b6\u6001\uff01"),new Error("\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u72b6\u6001\uff01"))}},C=function(e){return function(t){throw e&&e.complete(),O("\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u72b6\u6001\uff01"),t}};function U(e,t){return Promise.race([e,new Promise((function(e,n){setTimeout((function(){n(new Error("request timeout"))}),t)}))])}function M(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new E;return a&&a.beforeSend(),_(t).then((function(t){return U(fetch("http://sum1818.kmdns.net:9998"+e+"?"+t,{headers:Object.assign({},n)}),2e4).catch(C(a)).then(D(a)).then((function(e){return e.json()}))}))}function P(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new E;return a&&a.beforeSend(),_(t).then((function(t){return U(fetch("http://sum1818.kmdns.net:9998"+e,{method:"POST",headers:Object.assign({"Content-Type":"application/x-www-form-urlencoded"},n),body:t}),2e4).catch(C(a)).then(D(a)).then((function(e){return e.json()}))}))}function R(e,t){return V.apply(this,arguments)}function V(){return(V=Object(u.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("/ad/user/sum.json",{id:t,key:n});case 2:return a=e.sent,e.next=5,A(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(39);var F=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(l.a)(this,n),a=t.call(this,e);var r=parseInt(16*window.screen.width/375);return a.state={fontSize:r,rows:[]},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w("id"),n=w("key"),e.next=4,R(t,n);case 4:a=e.sent,r=a.rows||[],this.setState({rows:r});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{style:{fontSize:this.state.fontSize}},r.a.createElement("div",{className:"statis-box"},r.a.createElement("div",{className:"statis-text"},"\u65e5\u671f"),r.a.createElement("div",{className:"statis-text"},"\u70b9\u51fb\u91cf(UV)")),this.state.rows.map((function(e){return r.a.createElement("div",{key:e.id,className:"statis-box"},r.a.createElement("div",{className:"statis-text"},e.date.substring(0,10)),r.a.createElement("div",{className:"statis-text"},e.uv))})))}}]),n}(r.a.Component);function T(){var e=localStorage.getItem("LAST_OPEN_ID");return e&&e.length>5?e:""}function q(e){localStorage.setItem("LAST_OPEN_ID",e),localStorage.setItem("SAVE_OPEN_ID_TIME",(new Date).valueOf()+"")}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window.localStorage.getItem("UUID");return Object.assign({},e,{uuid:t})}function B(e,t){return z.apply(this,arguments)}function z(){return(z=Object(u.a)(o.a.mark((function e(t,n){var a,r,s,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:(new Date).valueOf(),r=T(),e.next=4,M("/news/prod",Y({action:"base",id:t,civ:n,oid:r,t:a}));case 4:return(s=e.sent).data?window.localStorage.setItem("UUID",s.data):window.localStorage.removeItem("UUID"),e.next=8,A(s);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(o.a.mark((function e(t,n){var a,r,s,i,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:(new Date).valueOf(),r=c.length>3?c[3]:void 0,s=T(),e.next=5,P("/news/click",Y({id:t,civ:n,oid:s,t:a,link:r}));case 5:return i=e.sent,e.next=8,A(i);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(u.a)(o.a.mark((function e(t,n){var a,r,s,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:(new Date).valueOf(),r=T(),e.next=4,M("/news/push",Y({id:t,civ:n,oid:r,t:a}));case 4:return s=e.sent,e.next=7,A(s);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return X.apply(this,arguments)}function X(){return(X=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new Date).valueOf(),n=window.btoa(t),e.abrupt("return",{t:t,civ:n});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).gotoLink=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:return n=e.sent,e.next=5,H(a.userId,n.civ,n.t,t);case 5:window.location.href=t;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={rows:[]},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.tbsJs&&window.tbsJs.onReady('{useCachedApi : "true"}',(function(){}))}catch(a){}this.userId=w("u")||0,t=w("c")||10,this.pathname=this.props.location.pathname||"",w("t")||(n=(n=this.props.location.search||"")+(n?"&t=":"?t=")+(new Date).valueOf(),window.history.replaceState({title:"\u6b22\u6765\u8f6c",url:window.location.href},"\u6b22\u6765\u8f6c","#/action?u="+this.userId+"&c="+t),window.history.pushState({title:"\u6b22\u6765\u8f6c",url:window.location.href},"\u6b22\u6765\u8f6c","#"+this.pathname+n)),0==this.state.rows.length&&this.reloadData();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reloadData",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="\u6b22\u6765\u8f6c",e.next=3,G();case 3:t=e.sent,B(this.userId,t.civ,t.t).then((function(e){var t=e.rows||[];n.setState({rows:t})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main",style:{marginTop:"0.2rem"}},r.a.createElement("div",{className:"seg_line ui_marginB_2"}),r.a.createElement("div",{className:"col-title ui_position_relative borderB_1 ui_paddingT ui_paddingB_5  ui_marginL_3 ui_marginR_3"},r.a.createElement("h3",{className:"ui_position_absolute"},"\u5927\u5bb6\u90fd\u5728\u770b"),r.a.createElement("div",{style:{marginTop:"0.3em"}}),r.a.createElement("div",{className:"pos_map hot_list hot_open"},this.state.rows.map((function(t,n){return r.a.createElement("div",{key:"ns_"+n,className:"hots_ul"},r.a.createElement("div",{onClick:e.gotoLink.bind(e,t.link),className:"lista flex_box borderB_1"},r.a.createElement("div",{className:"li_right ui_paddingR_2"},r.a.createElement("h2",null,t.title),r.a.createElement("p",{className:"intros"},r.a.createElement("span",{className:"ui_paddingR"},t.createTime.substring(0,10)))),r.a.createElement("div",{className:"li_left"},r.a.createElement("img",{className:"lis_img borderA_1",src:t.imagePath}))))})))))}}]),n}(r.a.Component),Z="http://118.190.131.43",W={"Content-Type":"application/json"};function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ok"!=t.retCode){e.next=4;break}return e.abrupt("return",t);case 4:throw t.msg&&O(t.return_msg),new Error(t.return_msg);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(u.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={mediaCode:"fyb",userID:"o8M-ywDqgHpgurI707sc05FPmMHo",os:"android",ver:1,pars:{artID:t,requestID:(new Date).valueOf(),readPrice:"",readUnit:""}},a=new E,e.next=4,fetch(Z+"/v1/app/articles/art/view",{method:"POST",headers:W,body:JSON.stringify(n)}).catch(C(a)).then(D(a)).then((function(e){return e.json()}));case 4:return r=e.sent,e.next=7,$(r);case 7:return r=e.sent,e.abrupt("return",r.body);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(u.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={mediaCode:"fyb",userID:"o8M-ywDqgHpgurI707sc05FPmMHo",os:"android",ver:"1",pars:{artID:t,requestID:(new Date).valueOf(),readPrice:"",readUnit:""}},a=new E,e.next=4,fetch(Z+"/v1/app/articles/vid/view",{method:"POST",headers:W,body:JSON.stringify(n)}).catch(C(a)).then(D(a)).then((function(e){return e.json()}));case 4:return r=e.sent,e.next=7,$(r);case 7:return r=e.sent,e.abrupt("return",r.body);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=n(25);function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return e||(e=(new Date).valueOf()),ae.a(e,t)}n(20);var se=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onOpenPress=function(){a.setState({showFull:!0})},a.state={title:"",show:!0,wechat:!!navigator.userAgent.match(/MicroMessenger/i),type_name:"",content:"",showFull:!1},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.reloadData()}},{key:"reloadData",value:function(){var e=this;this.articleId=this.props.match.params.articleId,function(e){return te.apply(this,arguments)}(this.articleId).then((function(t){var n=t.article||{},a=n.title,r=n.type_name,s=n.content||"";s=s.replace(/<p/gi,'<p class="mytexts" '),e.setState({title:a,show:!0,type_name:r,content:s})})).catch((function(){e.setState({show:!0})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"wraps",style:{display:"block"}},this.state.content?r.a.createElement("div",{className:"article_infro ui_top_0 bg_color ui_position_relative"},r.a.createElement("div",{className:"article",style:{maxHeight:this.state.showFull?"none":"220px",overflowY:this.state.showFull?"auto":"hidden"}},r.a.createElement("h2",{className:"main_title"},this.state.title),r.a.createElement("h3",{className:"subtitles"},r.a.createElement("span",{className:"sub_type ui_paddingR"},this.state.type_name),r.a.createElement("span",{className:"time"},re())),r.a.createElement("section",{className:"details",dangerouslySetInnerHTML:{__html:this.state.content}})),this.state.showFull?null:r.a.createElement("div",{className:"sub_shadow ui_position_absolute ui_box-shadow"}),this.state.showFull?null:r.a.createElement("div",{className:"more mymost ui_position_absolute"},r.a.createElement("a",{onClick:this.onOpenPress,id:"readBtn",className:"more_comment ui_inBlock border_1"},"\u70b9\u5f00\u67e5\u770b\u5168\u6587"))):r.a.createElement("div",{className:"article"},r.a.createElement("p",{className:"mytext"},"\u6587\u7ae0\u52a0\u8f7d\u4e2d...")),this.state.wechat?r.a.createElement(K,Object.assign({ctrl:this},this.props)):null)}}]),n}(r.a.Component),ie=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={title:"",show:!0,wechat:!!navigator.userAgent.match(/MicroMessenger/i),type_name:"",pic:"",videosource:""},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.reloadData()}},{key:"reloadData",value:function(){var e=this;this.videoId=this.props.match.params.videoId,function(e){return ne.apply(this,arguments)}(this.videoId).then((function(t){var n=t.article||{},a=n.title,r=n.type_name,s=n.pic,i=n.videosource;e.setState({title:a,show:!0,type_name:r,pic:s,videosource:i})})).catch((function(){e.setState({show:!0})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"wraps",style:{display:"block"}},this.state.videosource?r.a.createElement("div",{className:"article_infro ui_top_0 bg_color ui_position_relative"},r.a.createElement("div",{className:"article",style:{maxHeight:this.state.showFull?"none":"954px",overflowY:this.state.showFull?"auto":"hidden"}},r.a.createElement("h2",{className:"main_title"},this.state.title),r.a.createElement("h3",{className:"subtitles"},r.a.createElement("span",{className:"sub_type ui_paddingR"},this.state.type_name),r.a.createElement("span",{className:"time"},re())),r.a.createElement("video",{id:"myVideo",className:"ui_zIndex_10",controls:"controls","x-webkit-airplay":"true","webkit-playsinline":"true",playsinline:"true",autoplay:"",poster:this.state.pic},r.a.createElement("source",{src:this.state.videosource,type:"video/mp4"}),"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Video\u6807\u7b7e\u3002"))):r.a.createElement("div",{className:"article"},r.a.createElement("p",{className:"mytext"},"\u89c6\u9891\u52a0\u8f7d\u4e2d...")),this.state.wechat?r.a.createElement(K,Object.assign({ctrl:this},this.props)):null)}}]),n}(r.a.Component),ce=n(15);n(40),n(21);function oe(e,t){return e.setState({remain:t}),e._smsp=setInterval((function(){e.setState({remain:--t}),t<=0&&(clearInterval(e._smsp),e._smsp=null)}),1e3),e._smsp}var ue=/^1[3-9]\d{9}$/,le=/^\d+$/,pe=/^\d{6}$/;function de(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?!!ue.test(e)||(t&&O("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7!"),!1):!!n||(t&&O("\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a!"),!1)}function he(e){return e?!(le.test(e)||e.length<6||e.length>16)||(O("\u5bc6\u7801\u75316-16\u4f4d\u975e\u7eaf\u6570\u5b57\u7684\u5b57\u7b26\u7ec4\u6210"),!1):(O("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a!"),!1)}function me(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?!!pe.test(e)||(O("\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u9a8c\u8bc1\u7801!"),!1):!!t||(O("\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a!"),!1)}function fe(e,t){var n=t.target.value||"";if(this&&this.setState){var a={};a[e]=n,this.setState(a)}}function ve(e,t){var n=t.target.value||"";if(this&&this.setState){n||(n="");var a={};a[e]=n.replace(/[^\d]+/gi,""),this.setState(a)}}function we(e,t,n,a){return be.apply(this,arguments)}function be(){return(be=Object(u.a)(o.a.mark((function e(t,n,a,r){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("/register.json",{mobile:t,code:n,password:a,inviteId:r});case 2:return s=e.sent,e.next=5,A(s);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("/validate/code.json",{mobile:t,validateType:"code_register"});case 2:return n=e.sent,e.next=5,A(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("/wechat/auth.json",{code:t});case 2:return n=e.sent,e.next=5,k(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).onPassVisibleChange=function(){var e=!n.state.hidePass;n.setState({hidePass:e})},n.onCodePress=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.state.remain>0)){e.next=2;break}return e.abrupt("return");case 2:if(de(t=n.state.mobile)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,ge(t);case 7:oe(Object(ce.a)(n),60),localStorage.setItem("registerCodeTime",(new Date).valueOf()),O("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001,\u8bf7\u6ce8\u610f\u67e5\u6536");case 10:case"end":return e.stop()}}),e)}))),n.onRegisterSubmit=Object(u.a)(o.a.mark((function e(){var t,a,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.mobile,a=n.state.code,r=n.state.password,s=n.state.refereeId,de(t)&&me(a)&&he(r)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,we(t,a,r,s);case 8:O("\u6ce8\u518c\u6210\u529f"),n.props.history.push({pathname:"/download",search:n.props.location.search});case 10:case"end":return e.stop()}}),e)})));var r=parseInt(100*window.screen.width/375);return n.state={fontSize:r,mobile:"",code:"",password:"",refereeId:e.match.params.inviteId||"",remain:0,hidePass:!0},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=parseInt(localStorage.getItem("registerCodeTime")||0,10),n=(new Date).valueOf(),(a=n-t)<6e4&&oe(this,60-parseInt(a/1e3,10));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e;(e=this)._smsp&&clearInterval(e._smsp),e._smsp=null}},{key:"render",value:function(){var e=this.state.hidePass?n(41):n(42);return r.a.createElement("div",{className:"register-box",style:{fontSize:this.state.fontSize}},r.a.createElement("div",{className:"register-container"},r.a.createElement("input",{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801",onChange:ve.bind(this,"mobile"),value:this.state.mobile,type:"tel",maxLength:11})),r.a.createElement("div",{className:"register-container"},r.a.createElement("input",{placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",onChange:ve.bind(this,"code"),value:this.state.code,type:"tel",maxLength:6}),r.a.createElement("div",{className:"register-sep"}),r.a.createElement("div",{onClick:this.onCodePress,className:this.state.remain>0?"base-code-disable":"base-code-enable"},this.state.remain>0?"".concat(this.state.remain,"\u79d2\u91cd\u65b0\u53d1\u9001"):"\u83b7\u53d6\u9a8c\u8bc1\u7801")),r.a.createElement("div",{className:"register-container"},r.a.createElement("input",{placeholder:"\u8bf7\u8f93\u5165\u767b\u5f55\u5bc6\u7801",onChange:fe.bind(this,"password"),value:this.state.password,type:this.state.hidePass?"password":"text",maxLength:16}),r.a.createElement("div",{onClick:this.onPassVisibleChange},r.a.createElement("img",{className:"register-eye",src:e}))),r.a.createElement("div",{className:"register-container"},r.a.createElement("input",{placeholder:"\u8bf7\u8f93\u5165\u9080\u8bf7\u7801",onChange:ve.bind(this,"refereeId"),value:this.state.refereeId,type:"tel",maxLength:6})),r.a.createElement("div",{onClick:this.onRegisterSubmit,className:"base-submit"},"\u7acb\u5373\u6ce8\u518c"))}}]),a}(r.a.Component),Ae=(n(43),n(26)),je=n.n(Ae),ke=n(27),Ne=n.n(ke),Ie=n(28),_e=n.n(Ie);function Se(){return(Se=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("/appRelease/release.json",{version:0,device:20});case 2:return t=e.sent,e.next=5,A(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var De=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).onDownloadClick=function(){a.state.downloadUrl&&(window.location.href=a.state.downloadUrl+"?t="+(new Date).valueOf())};var r=parseInt(100*window.screen.width/375);return a.state={fontSize:r,downloadUrl:"",wechat:!!navigator.userAgent.match(/MicroMessenger/i)},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;(function(){return Se.apply(this,arguments)})().then((function(t){var n=(t.data||{}).downloadUrl||"";e.setState({downloadUrl:n})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"download-box",style:{fontSize:this.state.fontSize}},r.a.createElement("img",{className:"download-bg",src:Ne.a}),r.a.createElement("div",{className:"download-container"},r.a.createElement("img",{className:"download-logo",src:je.a}),r.a.createElement("div",{className:"download-title"},"\u6b22\u6765\u8f6c"),r.a.createElement("div",{className:"download-desc"},"\u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\u548c\u5c0f\u89c6\u9891,\u5c3d\u5728","\u6b22\u6765\u8f6c")),r.a.createElement("div",{onClick:this.onDownloadClick,className:"base-submit download-submit"},"\u7acb\u5373\u4e0b\u8f7d"),r.a.createElement("div",{className:"download-overlay",id:"overlay",style:{display:this.state.wechat?"block":"none"}},r.a.createElement("img",{className:"base-full-image",src:_e.a})))}}]),n}(r.a.Component),Ce=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).gotoNewPage=Object(u.a)(o.a.mark((function t(){var n,a,r,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!w("t")){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,G();case 6:return n=t.sent,a=w("u")||0,t.next=10,L(a,n.civ,n.t);case 10:if(!(r=t.sent).data||!r.data.startsWith("http")){t.next=17;break}return t.next=14,H(a,n.civ,n.t,r.data);case 14:window.location.href=r.data,t.next=19;break;case 17:s="?u="+a+"&c="+w("c")+"&t="+(new Date).valueOf(),e.props.history.push({pathname:"/article/"+parseInt(1e5*Math.random()),search:s});case 19:t.next=23;break;case 21:t.prev=21,t.t0=t.catch(0);case 23:case"end":return t.stop()}}),t,null,[[0,21]])}))),e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.gotoNewPage()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return null}}]),n}(r.a.Component),Ue=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(l.a)(this,n),a=t.call(this,e);var r=w("code"),s=!!navigator.userAgent.match(/MicroMessenger/i),i=T(),c=function(){var e=localStorage.getItem("LAST_OPEN_ID"),t=(new Date).valueOf(),n=localStorage.getItem("SAVE_OPEN_ID_TIME")||0;return n&&(n=parseInt(n)),!e||t-n>18e5}()&&s;return a.state={code:r,wechat:s,openId:i,reload:c},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,r,s,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,n=t.code,a=t.wechat,r=t.openId,s=t.reload,console.log("code",n,"wechat",a,"openId",r,"reload",s),!s){e.next=8;break}i=encodeURIComponent(window.location.href),q("REQ"),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx00c78d9182ba33f9&redirect_uri="+i+"&response_type=code&scope=snsapi_base#wechat_redirect",e.next=14;break;case 8:if(!n||r){e.next=14;break}return e.next=11,xe(n);case 11:q((c=e.sent).data),this.setState({openId:c.data});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return!this.state.wechat||this.state.openId&&!this.state.reload?r.a.createElement(m.a,null,r.a.createElement(f.a,{path:"/",exact:!0,component:v}),r.a.createElement(f.a,{path:"/statistics",exact:!0,component:F}),r.a.createElement(f.a,{path:"/article/:articleId",exact:!0,component:se}),r.a.createElement(f.a,{path:"/video/:videoId",exact:!0,component:ie}),r.a.createElement(f.a,{path:"/register",exact:!0,component:Ee}),r.a.createElement(f.a,{path:"/register/:inviteId",exact:!0,component:Ee}),r.a.createElement(f.a,{path:"/download",exact:!0,component:De}),r.a.createElement(f.a,{path:"/action",exact:!0,component:Ce})):null}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ue,null)),document.getElementById("root")),document.title="\u6b22\u6765\u8f6c","serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);