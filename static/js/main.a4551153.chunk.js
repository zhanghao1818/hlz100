(this.webpackJsonphlzh5=this.webpackJsonphlzh5||[]).push([[0],{20:function(e,t,a){},21:function(e,t,a){},26:function(e,t,a){e.exports=a.p+"static/media/logo.08f5b4d0.png"},27:function(e,t,a){e.exports=a.p+"static/media/beijing.16268e06.png"},28:function(e,t,a){e.exports=a.p+"static/media/download_shale.b1d57687.png"},31:function(e,t,a){e.exports=a(49)},36:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAYCAYAAACfpi8JAAAABHNCSVQICAgIfAhkiAAAA4hJREFUSInNl01oXFUYhp/v5E4zCQEp2MYfxD+oFkSRqlUETRS1iRuR5GYmaSYOqFkocWmQgphF0WVLuwgKcX4yf0l0UUyMCycIVgoGQRfVYKWrQKoghbaZpHfO52Iy02nNvTM1i/quzhme9533ztxz5xvhJlQoFNrErnep5RWQp4BO4G6UMoY1kFXU/iiGxUvrthiPx0vNZkszUC6dflpM+W1BIkBbU8nKFRXNC3zqDo78sKMis9nkQascAw429eb+OmOE9/qisTM3VWRqairc3trymcDQDgtcJ4XpKxvlN7f7yv5V5Itkcq/n8DXweEDmn4jOojLr4fwM4OA9imgfKn3AngDvT47HoddjsQu+RQqFQgdeaRnY5xNiVRjbe8c9k93d3d52wOTkZGh3R/sooscA45PzG074Cdd1L1VfqIGqKlzdKASUQFRiA9HYSb8SAKOjo1fdoeETohLzY4CH8Eq567Kri/x06n0R/djPqZAcGIyNVPdzqdSdZcd+gMojlSCdUactWX+V+UwyIeBbSFXGB4aGP4GtT2Q2M/WwiE4EXIG1Uv7wWulEd7lFV1B5F+gCuhQ5iVf6PZf7/MGaqeKxfqEiOpHLJffXilicNLAroMi30Wj8PMD8/PFWESkAHdtwncbKd/Pzx1sBotH4eVSLAbm7jJUUgJnJJXpADwTAgH5TXV3+e3cfcLs/K3dtMVtbFhtkH5jJJXqMWjMeDIKonKvZjH22EV/PKOaPhrw14wbU74jVZEVqN7Wq0Ua8WKndFyK2iZ8RNUaMHm0YjH2gLvj7xrF6+tqG+xvmGz1q+iMjCyDLDdCXqquO2y7Oga4GwGsVpuZ9uUH2cn9kZKFyaowOA5sB9IvZ7NR9AL29YxvW6HPA2jbcRRGJ9PaObQDMTU/fC7wQkLtp8A7D1vGNRGJnQY8EGIzRlo+qm0jkjXOb1uwT9B1gCVhC9ERLWfb3R4eXqpwn5Qn8H/OAHukbjP8KdU9WVZWZTPorRHt8faJDbnQkE1C4pnwmFRXUn1VZ6B88/KqIKPVtRUQJtbrASoA5lc8mx4rFouOHFItFJ59NjgmaDui5QqjVrZaA/z4G/IVoDpUvcbxfPC+sIbGPKeXXUBlgp2NAVf+Lwahet3xUvFGFTOIZhbdu2fB8o06dmmwvXQ4/T1kOqfAklb8TnVtJF0BWxeqyhUUJhYuu6643m/0P7Nt1m9qwOHcAAAAASUVORK5CYII="},42:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAYCAYAAACfpi8JAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAC/0lEQVRIS62XO2gUQRjHVzjwgYVFFKy0ERQs7ExAUGOlZbTw0dkIEeyCrZ2tLwSbHDN7u3s7m9hEziLCEU8lRQiCAY2iCDYhaYT4Cng5/9/ud5fZ2dm9Ve8PP3Zvvv83M7c7r3X+RkqpnVFdnFW+uKN8+Qp8BL+UJ7+rQH5SgfuCYuSpVqs7OC0WfLdAh1kHxzhUXvVabTj0xSSSf2iVFYPOJTniJH67mbgvv4BUZ3M1FcjjMM9ryYPiJ7jIzeSLHmvoy5qRPBBCT6zgOsxN5euxlPtgXNSTLayqQDzEddT3/SGC7rlslT15LFEb3JxdGIy7YVw2EnXaYSCvN5vNCqdkhH98DeOjbcnVeUdtcUpanU5nm/LchiWpR+S5V9ieEeIVcFv39+EJp6YVeu5Ni7kHxoxga6xp192PV3EfsSZ4jtnxWvcTyNk0y3SoTa4u0ZRfPYzAhmnUaAdB9SDb6fGfRhmtBTZvl3VM36u4Fr2mjXpdHuFq6bG6CxaTzixbnUbj3nb8XjPiBvHMiBcs5Yln2biOuxBXnKyUNoOOmIjNEI0Tu0fDk+Nsx58UE1aPBvWBnsacLagTeXKM63V4ilp9PeBhuxP67nmrJ4U7R6O9lQ2kocqoUtxXMACXzLgJOv4g7gWETl2weQxapV8NrrTGPE2X5xCIy9yP8q8mMfcdrPTU3hhleazQgI4rhvB71ogb8GAl0RRCYdH0tfHbUvY1CtxTXK0z7XkHUFY4fWnpYHuiMo9QoxV48lDki3Hc04LWpMWNFjmuLhYtglqOha3Z2FOZJZ4JQN9zBAb4JSMvDdqiNtmeFm967zNJW2xi07tRtOlRjDzwFr2S5dxNjwTDEBajl0aSjTV6FbiOKjW5l44BUVA7w2X9jgGLhccAGGi/easlDBw6bJln2ZRgOgFs+8dnkNlV/4F5OnZyc3bBROeID1pSF5oNexKPGPmPw/NI3FAZIfEo0Lf1KsgMyJmZR7toFcQSfhfx7ufEtxj+nKBY6Mlz9OnBaSXkOH8AiYzJ1vi1TzwAAAAASUVORK5CYII="},43:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),i=a.n(s),c=(a(36),a(37),a(29)),o=a(3),u=a(5),l=a(6),p=a(8),d=a(7),h=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,"1.0")}}]),a}(r.a.Component),m=a(1),f=a.n(m),v=a(2);function w(e,t){var a=t||window.location.href,n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),r=a.substr(a.indexOf("?")+1).match(n);return null!=r?decodeURIComponent(r[2]):null}var b=a(14);var g=a(24),y=a.n(g),x=0;function O(e){!function(e){var t=(new Date).valueOf();!e||t-x<3e3||(x=t,y()(e))}(e)}var E=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"beforeSend",value:function(){}},{key:"complete",value:function(){}}]),e}();function A(e){return j.apply(this,arguments)}function j(){return(j=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.code){e.next=4;break}return e.abrupt("return",t);case 4:if(9900!==t.code){e.next=8;break}throw new Error(t.resultMsg);case 8:throw t.resultMsg&&O(t.resultMsg),new Error(t.resultMsg);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return"string"===typeof e&&(e=e.indexOf("/")>-1||e.indexOf("%")>-1?encodeURIComponent(e):encodeURI(e)),e}function N(e){return I.apply(this,arguments)}function I(){return(I=Object(v.a)(f.a.mark((function e(t){var a,n,r,s,i,c,o,u,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],t){n=Object(b.a)(Object.getOwnPropertyNames(t));try{for(n.s();!(r=n.n()).done;)if(s=r.value,(i=t[s])instanceof Array)a.push(s+"="+k(JSON.stringify(i)));else if(i instanceof Object){c=Object(b.a)(Object.getOwnPropertyNames(i));try{for(c.s();!(o=c.n()).done;)u=o.value,((l=i[u])||!1===l||0===l)&&"__ob__"!==u&&a.push(u+"="+k(i[u]))}catch(p){c.e(p)}finally{c.f()}}else null!==i&&void 0!==i&&"__ob__"!==s&&a.push(s+"="+k(i))}catch(p){n.e(p)}finally{n.f()}t.device||a.push("device=10"),a.push("channelId="+(w("c")||10))}return e.abrupt("return",a.join("&"));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(e){return function(t){if(e&&e.complete(),200===t.status)return t;throw t.status>0?(O("\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u72b6\u6001\uff01"),new Error("\u670d\u52a1\u5668\u54cd\u5e94\u5f02\u5e38\uff01")):(O("\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u72b6\u6001\uff01"),new Error("\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u72b6\u6001\uff01"))}},_=function(e){return function(t){throw e&&e.complete(),O("\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u72b6\u6001\uff01"),t}};function D(e,t){return Promise.race([e,new Promise((function(e,a){setTimeout((function(){a(new Error("request timeout"))}),t)}))])}function U(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new E;return n&&n.beforeSend(),N(t).then((function(t){return D(fetch("http://sum1818.kmdns.net:9998"+e+"?"+t,{headers:Object.assign({},a)}),2e4).catch(_(n)).then(S(n)).then((function(e){return e.json()}))}))}function C(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new E;return n&&n.beforeSend(),N(t).then((function(t){return D(fetch("http://sum1818.kmdns.net:9998"+e,{method:"POST",headers:Object.assign({"Content-Type":"application/x-www-form-urlencoded"},a),body:t}),2e4).catch(_(n)).then(S(n)).then((function(e){return e.json()}))}))}function P(e,t){return M.apply(this,arguments)}function M(){return(M=Object(v.a)(f.a.mark((function e(t,a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("/ad/user/sum.json",{id:t,key:a});case 2:return n=e.sent,e.next=5,A(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(39);var R=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(u.a)(this,a),n=t.call(this,e);var r=parseInt(16*window.screen.width/375);return n.state={fontSize:r,rows:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w("id"),a=w("key"),e.next=4,P(t,a);case 4:n=e.sent,r=n.rows||[],this.setState({rows:r});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{style:{fontSize:this.state.fontSize}},r.a.createElement("div",{className:"statis-box"},r.a.createElement("div",{className:"statis-text"},"\u65e5\u671f"),r.a.createElement("div",{className:"statis-text"},"\u70b9\u51fb\u91cf(UV)")),this.state.rows.map((function(e){return r.a.createElement("div",{key:e.id,className:"statis-box"},r.a.createElement("div",{className:"statis-text"},e.date.substring(0,10)),r.a.createElement("div",{className:"statis-text"},e.uv))})))}}]),a}(r.a.Component);function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window.localStorage.getItem("UUID");return Object.assign({},e,{uuid:t})}function F(e,t){return T.apply(this,arguments)}function T(){return(T=Object(v.a)(f.a.mark((function e(t,a){var n,r,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:(new Date).valueOf(),e.next=3,U("/news/prod",V({action:"base",id:t,civ:a,t:n}));case 3:return(r=e.sent).data?window.localStorage.setItem("UUID",r.data):window.localStorage.removeItem("UUID"),e.next=7,A(r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t){return B.apply(this,arguments)}function B(){return(B=Object(v.a)(f.a.mark((function e(t,a){var n,r,s,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:(new Date).valueOf(),r=i.length>3?i[3]:void 0,e.next=4,C("/news/click",V({id:t,civ:a,t:n,link:r}));case 4:return s=e.sent,e.next=7,A(s);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){return H.apply(this,arguments)}function H(){return(H=Object(v.a)(f.a.mark((function e(t,a){var n,r,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:(new Date).valueOf(),e.next=3,U("/news/push",V({id:t,civ:a,t:n}));case 3:return r=e.sent,e.next=6,A(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return J.apply(this,arguments)}function J(){return(J=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new Date).valueOf(),a=window.btoa((new Date).valueOf()),e.abrupt("return",{t:t,civ:a});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).gotoNewPage=Object(v.a)(f.a.mark((function e(){var t,a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!w("t")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,z();case 6:return t=e.sent,a=w("u")||0,e.next=10,q(a,t.civ,t.t);case 10:if(!(r=e.sent).data||!r.data.startsWith("http")){e.next=18;break}return e.next=14,Y(a,t.civ,t.t,r.data);case 14:n.props.ctrl&&n.props.ctrl.hideData&&n.props.ctrl.hideData(),window.location.href=r.data,e.next=20;break;case 18:s="?u="+a+"&c="+w("c")+"&t="+(new Date).valueOf(),n.props.history.push({pathname:"/article/"+parseInt(1e5*Math.random()),search:s});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(0);case 24:case"end":return e.stop()}}),e,null,[[0,22]])}))),n.gotoLink=function(){var e=Object(v.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:return a=e.sent,e.next=5,Y(n.userId,a.civ,a.t,t);case 5:window.location.href=t;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={rows:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,n,r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),window.onpageshow=function(e){var a=window.location.href.indexOf("#/article")>-1||window.location.href.indexOf("#/video")>-1;e.persisted&&t&&a&&r.gotoNewPage()},window.onpopstate=function(){w("t")||r.gotoNewPage()};try{window.tbsJs&&window.tbsJs.onReady('{useCachedApi : "true"}',(function(){}))}catch(s){}this.userId=w("u")||0,this.pathname=this.props.location.pathname||"",a=w("t"),window.history.length>1?this.gotoNewPage():a||(n=(n=this.props.location.search||"")+(n?"&t=":"?t=")+(new Date).valueOf(),window.history.pushState({title:"\u6b22\u6765\u8f6c",url:window.location.href},"\u6b22\u6765\u8f6c","#"+this.pathname+n)),0==this.state.rows.length&&this.reloadData(),this.initTime=(new Date).valueOf();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reloadData",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="\u6b22\u6765\u8f6c",e.next=3,z();case 3:t=e.sent,F(this.userId,t.civ,t.t).then((function(e){var t=e.rows||[];a.setState({rows:t})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this.props.history.action,t=this.props.location.pathname||"";"PUSH"==e&&t!=this.pathname&&(this.pathname=t,this.reloadData(),this.props.ctrl&&this.props.ctrl.reloadData&&this.props.ctrl.reloadData())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main",style:{marginTop:"0.2rem"}},r.a.createElement("div",{className:"seg_line ui_marginB_2"}),r.a.createElement("div",{className:"col-title ui_position_relative borderB_1 ui_paddingT ui_paddingB_5  ui_marginL_3 ui_marginR_3"},r.a.createElement("h3",{className:"ui_position_absolute"},"\u5927\u5bb6\u90fd\u5728\u770b"),r.a.createElement("div",{style:{marginTop:"0.3em"}}),r.a.createElement("div",{className:"pos_map hot_list hot_open"},this.state.rows.map((function(t,a){return r.a.createElement("div",{key:"ns_"+a,className:"hots_ul"},r.a.createElement("div",{onClick:e.gotoLink.bind(e,t.link),className:"lista flex_box borderB_1"},r.a.createElement("div",{className:"li_right ui_paddingR_2"},r.a.createElement("h2",null,t.title),r.a.createElement("p",{className:"intros"},r.a.createElement("span",{className:"ui_paddingR"},t.createTime.substring(0,10)))),r.a.createElement("div",{className:"li_left"},r.a.createElement("img",{className:"lis_img borderA_1",src:t.imagePath}))))})))))}}]),a}(r.a.Component),X="http://118.190.131.43",G={"Content-Type":"application/json"};function L(e){return K.apply(this,arguments)}function K(){return(K=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ok"!=t.retCode){e.next=4;break}return e.abrupt("return",t);case 4:throw t.msg&&O(t.return_msg),new Error(t.return_msg);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(v.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={mediaCode:"fyb",userID:"o8M-ywDqgHpgurI707sc05FPmMHo",os:"android",ver:1,pars:{artID:t,requestID:(new Date).valueOf(),readPrice:"",readUnit:""}},n=new E,e.next=4,fetch(X+"/v1/app/articles/art/view",{method:"POST",headers:G,body:JSON.stringify(a)}).catch(_(n)).then(S(n)).then((function(e){return e.json()}));case 4:return r=e.sent,e.next=7,L(r);case 7:return r=e.sent,e.abrupt("return",r.body);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(v.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={mediaCode:"fyb",userID:"o8M-ywDqgHpgurI707sc05FPmMHo",os:"android",ver:"1",pars:{artID:t,requestID:(new Date).valueOf(),readPrice:"",readUnit:""}},n=new E,e.next=4,fetch(X+"/v1/app/articles/vid/view",{method:"POST",headers:G,body:JSON.stringify(a)}).catch(_(n)).then(S(n)).then((function(e){return e.json()}));case 4:return r=e.sent,e.next=7,L(r);case 7:return r=e.sent,e.abrupt("return",r.body);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=a(25);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return e||(e=(new Date).valueOf()),$.a(e,t)}a(20);var te=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onOpenPress=function(){n.setState({showFull:!0})},n.state={title:"",show:!0,wechat:!!navigator.userAgent.match(/MicroMessenger/i),type_name:"",content:"",showFull:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.reloadData()}},{key:"hideData",value:function(){this.setState({show:!1})}},{key:"reloadData",value:function(){var e=this;this.articleId=this.props.match.params.articleId,function(e){return Z.apply(this,arguments)}(this.articleId).then((function(t){var a=t.article||{},n=a.title,r=a.type_name,s=a.content||"";s=s.replace(/<p/gi,'<p class="mytexts" '),e.setState({title:n,show:!0,type_name:r,content:s})})).catch((function(){e.setState({show:!0})}))}},{key:"render",value:function(){var e=w("t");return r.a.createElement("div",{className:"wraps",style:{display:!this.state.wechat||this.state.show&&e?"block":"none"}},this.state.content?r.a.createElement("div",{className:"article_infro ui_top_0 bg_color ui_position_relative"},r.a.createElement("div",{className:"article",style:{maxHeight:this.state.showFull?"none":"954px",overflowY:this.state.showFull?"auto":"hidden"}},r.a.createElement("h2",{className:"main_title"},this.state.title),r.a.createElement("h3",{className:"subtitles"},r.a.createElement("span",{className:"sub_type ui_paddingR"},this.state.type_name),r.a.createElement("span",{className:"time"},ee())),r.a.createElement("section",{className:"details",dangerouslySetInnerHTML:{__html:this.state.content}})),this.state.showFull?null:r.a.createElement("div",{className:"sub_shadow ui_position_absolute ui_box-shadow"}),this.state.showFull?null:r.a.createElement("div",{className:"more mymost ui_position_absolute"},r.a.createElement("a",{onClick:this.onOpenPress,id:"readBtn",className:"more_comment ui_inBlock border_1"},"\u70b9\u5f00\u67e5\u770b\u5168\u6587"))):r.a.createElement("div",{className:"article"},r.a.createElement("p",{className:"mytext"},"\u6587\u7ae0\u52a0\u8f7d\u4e2d...")),this.state.wechat?r.a.createElement(Q,Object.assign({ctrl:this},this.props)):null)}}]),a}(r.a.Component),ae=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={title:"",show:!0,wechat:!!navigator.userAgent.match(/MicroMessenger/i),type_name:"",pic:"",videosource:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.reloadData()}},{key:"hideData",value:function(){this.setState({show:!1})}},{key:"reloadData",value:function(){var e=this;this.videoId=this.props.match.params.videoId,function(e){return W.apply(this,arguments)}(this.videoId).then((function(t){var a=t.article||{},n=a.title,r=a.type_name,s=a.pic,i=a.videosource;e.setState({title:n,show:!0,type_name:r,pic:s,videosource:i})})).catch((function(){e.setState({show:!0})}))}},{key:"render",value:function(){var e=w("t");return r.a.createElement("div",{className:"wraps",style:{display:!this.state.wechat||this.state.show&&e?"block":"none"}},this.state.videosource?r.a.createElement("div",{className:"article_infro ui_top_0 bg_color ui_position_relative"},r.a.createElement("div",{className:"article",style:{maxHeight:this.state.showFull?"none":"954px",overflowY:this.state.showFull?"auto":"hidden"}},r.a.createElement("h2",{className:"main_title"},this.state.title),r.a.createElement("h3",{className:"subtitles"},r.a.createElement("span",{className:"sub_type ui_paddingR"},this.state.type_name),r.a.createElement("span",{className:"time"},ee())),r.a.createElement("video",{id:"myVideo",className:"ui_zIndex_10",controls:"controls","x-webkit-airplay":"true","webkit-playsinline":"true",playsinline:"true",autoplay:"",poster:this.state.pic},r.a.createElement("source",{src:this.state.videosource,type:"video/mp4"}),"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Video\u6807\u7b7e\u3002"))):r.a.createElement("div",{className:"article"},r.a.createElement("p",{className:"mytext"},"\u89c6\u9891\u52a0\u8f7d\u4e2d...")),this.state.wechat?r.a.createElement(Q,Object.assign({ctrl:this},this.props)):null)}}]),a}(r.a.Component),ne=a(15);a(40),a(21);function re(e,t){return e.setState({remain:t}),e._smsp=setInterval((function(){e.setState({remain:--t}),t<=0&&(clearInterval(e._smsp),e._smsp=null)}),1e3),e._smsp}var se=/^1[3-9]\d{9}$/,ie=/^\d+$/,ce=/^\d{6}$/;function oe(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?!!se.test(e)||(t&&O("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7!"),!1):!!a||(t&&O("\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a!"),!1)}function ue(e){return e?!(ie.test(e)||e.length<6||e.length>16)||(O("\u5bc6\u7801\u75316-16\u4f4d\u975e\u7eaf\u6570\u5b57\u7684\u5b57\u7b26\u7ec4\u6210"),!1):(O("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a!"),!1)}function le(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?!!ce.test(e)||(O("\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u9a8c\u8bc1\u7801!"),!1):!!t||(O("\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a!"),!1)}function pe(e,t){var a=t.target.value||"";if(this&&this.setState){var n={};n[e]=a,this.setState(n)}}function de(e,t){var a=t.target.value||"";if(this&&this.setState){a||(a="");var n={};n[e]=a.replace(/[^\d]+/gi,""),this.setState(n)}}function he(e,t,a,n){return me.apply(this,arguments)}function me(){return(me=Object(v.a)(f.a.mark((function e(t,a,n,r){var s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("/register.json",{mobile:t,code:a,password:n,inviteId:r});case 2:return s=e.sent,e.next=5,A(s);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(v.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("/validate/code.json",{mobile:t,validateType:"code_register"});case 2:return a=e.sent,e.next=5,A(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var we=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(u.a)(this,n),(a=t.call(this,e)).onPassVisibleChange=function(){var e=!a.state.hidePass;a.setState({hidePass:e})},a.onCodePress=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.remain>0)){e.next=2;break}return e.abrupt("return");case 2:if(oe(t=a.state.mobile)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fe(t);case 7:re(Object(ne.a)(a),60),localStorage.setItem("registerCodeTime",(new Date).valueOf()),O("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001,\u8bf7\u6ce8\u610f\u67e5\u6536");case 10:case"end":return e.stop()}}),e)}))),a.onRegisterSubmit=Object(v.a)(f.a.mark((function e(){var t,n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.mobile,n=a.state.code,r=a.state.password,s=a.state.refereeId,oe(t)&&le(n)&&ue(r)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,he(t,n,r,s);case 8:O("\u6ce8\u518c\u6210\u529f"),a.props.history.push({pathname:"/download",search:a.props.location.search});case 10:case"end":return e.stop()}}),e)})));var r=parseInt(100*window.screen.width/375);return a.state={fontSize:r,mobile:"",code:"",password:"",refereeId:e.match.params.inviteId||"",remain:0,hidePass:!0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=parseInt(localStorage.getItem("registerCodeTime")||0,10),a=(new Date).valueOf(),(n=a-t)<6e4&&re(this,60-parseInt(n/1e3,10));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e;(e=this)._smsp&&clearInterval(e._smsp),e._smsp=null}},{key:"render",value:function(){var e=this.state.hidePass?a(41):a(42);return r.a.createElement("div",{className:"register-box",style:{fontSize:this.state.fontSize}},r.a.createElement("div",{className:"register-container"},r.a.createElement("input",{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801",onChange:de.bind(this,"mobile"),value:this.state.mobile,type:"tel",maxLength:11})),r.a.createElement("div",{className:"register-container"},r.a.createElement("input",{placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",onChange:de.bind(this,"code"),value:this.state.code,type:"tel",maxLength:6}),r.a.createElement("div",{className:"register-sep"}),r.a.createElement("div",{onClick:this.onCodePress,className:this.state.remain>0?"base-code-disable":"base-code-enable"},this.state.remain>0?"".concat(this.state.remain,"\u79d2\u91cd\u65b0\u53d1\u9001"):"\u83b7\u53d6\u9a8c\u8bc1\u7801")),r.a.createElement("div",{className:"register-container"},r.a.createElement("input",{placeholder:"\u8bf7\u8f93\u5165\u767b\u5f55\u5bc6\u7801",onChange:pe.bind(this,"password"),value:this.state.password,type:this.state.hidePass?"password":"text",maxLength:16}),r.a.createElement("div",{onClick:this.onPassVisibleChange},r.a.createElement("img",{className:"register-eye",src:e}))),r.a.createElement("div",{className:"register-container"},r.a.createElement("input",{placeholder:"\u8bf7\u8f93\u5165\u9080\u8bf7\u7801",onChange:de.bind(this,"refereeId"),value:this.state.refereeId,type:"tel",maxLength:6})),r.a.createElement("div",{onClick:this.onRegisterSubmit,className:"base-submit"},"\u7acb\u5373\u6ce8\u518c"))}}]),n}(r.a.Component),be=(a(43),a(26)),ge=a.n(be),ye=a(27),xe=a.n(ye),Oe=a(28),Ee=a.n(Oe);function Ae(){return(Ae=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("/appRelease/release.json",{version:0,device:20});case 2:return t=e.sent,e.next=5,A(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).onDownloadClick=function(){n.state.downloadUrl&&(window.location.href=n.state.downloadUrl+"?t="+(new Date).valueOf())};var r=parseInt(100*window.screen.width/375);return n.state={fontSize:r,downloadUrl:"",wechat:!!navigator.userAgent.match(/MicroMessenger/i)},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){return Ae.apply(this,arguments)})().then((function(t){var a=(t.data||{}).downloadUrl||"";e.setState({downloadUrl:a})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"download-box",style:{fontSize:this.state.fontSize}},r.a.createElement("img",{className:"download-bg",src:xe.a}),r.a.createElement("div",{className:"download-container"},r.a.createElement("img",{className:"download-logo",src:ge.a}),r.a.createElement("div",{className:"download-title"},"\u6b22\u6765\u8f6c"),r.a.createElement("div",{className:"download-desc"},"\u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\u548c\u5c0f\u89c6\u9891,\u5c3d\u5728","\u6b22\u6765\u8f6c")),r.a.createElement("div",{onClick:this.onDownloadClick,className:"base-submit download-submit"},"\u7acb\u5373\u4e0b\u8f7d"),r.a.createElement("div",{className:"download-overlay",id:"overlay",style:{display:this.state.wechat?"block":"none"}},r.a.createElement("img",{className:"base-full-image",src:Ee.a})))}}]),a}(r.a.Component),ke=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return null}}]),a}(r.a.Component);var Ne=function(){return r.a.createElement(c.a,null,r.a.createElement(o.a,{path:"/",exact:!0,component:h}),r.a.createElement(o.a,{path:"/statistics",exact:!0,component:R}),r.a.createElement(o.a,{path:"/article/:articleId",exact:!0,component:te}),r.a.createElement(o.a,{path:"/video/:videoId",exact:!0,component:ae}),r.a.createElement(o.a,{path:"/register",exact:!0,component:we}),r.a.createElement(o.a,{path:"/register/:inviteId",exact:!0,component:we}),r.a.createElement(o.a,{path:"/download",exact:!0,component:je}),r.a.createElement(o.a,{path:"/action",exact:!0,component:ke}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ne,null)),document.getElementById("root")),document.title="\u6b22\u6765\u8f6c","serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);